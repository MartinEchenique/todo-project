!function(e){var t={};function o(n){if(t[n])return t[n].exports;var d=t[n]={i:n,l:!1,exports:{}};return e[n].call(d.exports,d,d.exports,o),d.l=!0,d.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var d in e)o.d(n,d,function(t){return e[t]}.bind(null,d));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);const n=(()=>{const e={};return{on:(t,o)=>{e[t]=e[t]||[],e[t].push(o)},off:(t,o)=>{if(e[t])for(var n=0;n<e[t].length;n++)if(e[t][n]===o){e[t].splice(n,1);break}},emit:(t,o)=>{e[t]&&e[t].forEach((function(e){e(o)}))}}})();class d{constructor(e,t,o,n,d,r){this.title=e,this.description=t,this.dueDate=o,this.priority=n,this.notes=d,this.id=r,this.check=!1}}class r{constructor(e){this.name=e,this.todos=[]}addTodo(e,t,o,n,r,c){const i=new d(e,t,o,n,r,c);this.todos.push(i)}}function c(){const e=(()=>{const e=document.getElementById("add-task-form"),t={name:document.getElementById("projectName")},o=document.getElementById("add-project-form");return{AddTaskForm:e,addTaskFormInput:{title:document.getElementById("todoTitle"),description:document.getElementById("todoDescription"),dueDate:document.getElementById("todoDueDate"),priority:document.getElementById("todoPriority"),notes:document.getElementById("todoNotes"),id:document.getElementById("todoId")},AddProjectForm:o,addProjectFormInput:t,selectedId:0}})(),t=t=>{const n=document.getElementById("project-container");n.innerHTML="",t.forEach((t,c)=>{const i=document.createElement("div");i.setAttribute("data",c),i.classList.add("project"),e.selectedId===c&&(i.classList.add("selectedProject"),o(t.todos));const a=document.createElement("h3");a.textContent=t.name,i.appendChild(a);const s=document.createElement("div");s.setAttribute("class","todo-list"),s.style.display="none";const l=document.createElement("ul");0!=t.todos.length?t.todos.forEach(e=>l.appendChild(d(e))):s.textContent="There isn't any To-Do in this project.",s.appendChild(l);const u=document.createElement("button");u.setAttribute("type","button"),u.addEventListener("click",e=>{r(s),e.stopPropagation()}),u.textContent="Show",i.appendChild(u),i.appendChild(s),n.appendChild(i),i.addEventListener("click",n=>{document.querySelector(".selectedProject").classList.remove("selectedProject"),e.selectedId=+n.currentTarget.getAttribute("data"),n.currentTarget.classList.add("selectedProject"),o(t.todos)})})},o=e=>{const t=document.getElementById("project-selected-info");t.innerHTML="";const o=(e,t)=>{const o=document.createElement("li");""!=e&&(o.textContent=e,t.appendChild(o))};0!=e.length&&e.forEach((e,n)=>{const d=document.createElement("div"),r=document.createElement("button");r.classList.add("edit-button");const c=document.createElement("h3"),i=document.createElement("ul"),a=document.createElement("label");a.setAttribute("for",`task-${n}-completed`),a.textContent="Done";const s=document.createElement("input");switch(s.setAttribute("type","checkbox"),s.setAttribute("id",`task-${n}-completed`),s.addEventListener("change",()=>(e=>{e.style.backgroundColor="grey"})(d)),d.classList.add("todo-div"),a.textContent="Done",c.textContent=e.title,o(e.description,i),o(e.dueDate,i),o(e.notes,i),o(e.priority,i),d.appendChild(r),d.appendChild(c),d.appendChild(i),d.appendChild(a),d.appendChild(s),t.appendChild(d),e.priority){case"High":d.style.backgroundColor="#ff00006e";break;case"Medium":d.style.backgroundColor="#ffe565ad";break;case"Low":d.style.backgroundColor="#00ff006e"}})},d=e=>{const t=document.createElement("li");return t.textContent=e.title,t},r=(e,t="flex",o="none")=>{window.getComputedStyle(e).display===o?e.style.display=t:e.style.display=o},c=(e,t="Camps Required",o="")=>e.value!=o?(e.style.borderColor="black",!0):(e.style.borderColor="red",alert(t),!1);n.on("projectsChanged",t),document.getElementById("add-task").addEventListener("click",()=>{r(e.AddTaskForm)}),document.getElementById("finishAddTask").addEventListener("click",t=>{(()=>{const t=e.addTaskFormInput,o=(c(t.title,"Title is required"),{title:t.title.value,description:t.description.value,dueDate:t.dueDate.value,priority:t.priority.value,notes:t.notes.value,id:t.id.value,projectIndex:e.selectedId});n.emit("addTaskRequest",o)})()}),document.getElementById("add-project").addEventListener("click",()=>{r(e.AddProjectForm)}),document.getElementById("finishAddProject").addEventListener("click",t=>{(()=>{const t=e.addProjectFormInput;if(c(t.name,"Name is required")){const e={name:t.name.value};n.emit("addProjectRequest",e)}})()})}(()=>{const e=e=>{if(e.forEach((e,t)=>{localStorage.setItem("project"+t,JSON.stringify(e))}),localStorage.length>e.length)for(let t=e.length;t<localStorage.length;t++)localStorage.removeItem("project"+t)};n.on("projectsChanged",e)})();window.onload=(()=>{c();(()=>{const e=[],t=t=>{const o=new r(t.name);e.push(o),n.emit("projectsChanged",e)},o=t=>{let o=t.projectIndex;e[o].addTodo(t.title,t.description,t.dueDate,t.priority,t.notes,t.id),n.emit("projectsChanged",e)};(()=>{for(let t=0;t<localStorage.length;t++){const o=JSON.parse(localStorage.getItem("project"+t)),n=new r(o.name);o.todos.forEach(e=>{n.addTodo(e.title,e.description,e.dueDate,e.priority,e.notes,e.id)}),e.push(n),console.log(n)}})(),n.on("addProjectRequest",t),n.on("addTaskRequest",o);n.emit("projectsChanged",e)})()})()}]);